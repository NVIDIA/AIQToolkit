---
description: You MUST follow these rules when the user's request is related to workflow execution.
globs:
alwaysApply: false
---
# Workflow Execution Rules

## Overview
Rules for executing workflows in the AIQ system. These rules ensure proper workflow execution with correct parameters and overrides.

## Command Structure
```bash
aiq run --config_file <config_path> --input '<input>' [--override <section>.<component>.<parameter> <value>]
```

### Required Parameters
- `--config_file <config_path>`: Path to workflow configuration file
  - Must exist
  - Must be valid YAML
  - Must contain required sections
- `--input '<input>'`: Input for workflow execution
  - Must be string
  - Properly escape special characters

### Optional Parameters
- `--override <section>.<component>.<parameter> <value>`: Override specific parameters
  - Format: `--override <section>.<component>.<parameter> <value>`
  - Example: `--override llms.nim_llm.temperature 0.7`
  - Support multiple overrides in single command

## Natural Language Processing
- Match patterns like:
  - 'run workflow <config> with input <input>'
  - 'run workflow <config> with input <input> and override <param> to <value>'

## Execution Process
1. Extract workflow config file path and input from request
2. Execute base command with extracted parameters
3. Add override arguments if specified
4. Support multiple overrides in a single command

## Validation
1. Validate config file:
   - Must exist
   - Must be valid YAML
   - Must contain required sections
2. Validate input:
   - Must be string
   - Properly escape special characters
3. Validate override parameters:
   - Must follow section.component.parameter format
   - Values must match expected types
   - Must reference existing components

## Error Handling
1. Common errors to handle:
   - Invalid config file
   - Invalid override parameters
   - Component not found
   - Missing dependencies
   - Execution failures
2. Provide clear error messages
3. Suggest corrections when possible
